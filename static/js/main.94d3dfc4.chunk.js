(this.webpackJsonphiitify=this.webpackJsonphiitify||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n.n(i),a=n(18),r=n.n(a),o=(n(49),n(4)),l=(n(50),n(51),"".concat("http://accounts.spotify.com/authorize","?client_id=").concat("0c309b1569d1447f87fe551ef6e2629e","&redirect_uri=").concat("http://katrinapo.github.io/hiitify","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true")),j=n.p+"static/media/logov1.d09767cd.png";var u=function(){return Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("img",{src:j}),Object(c.jsxs)("div",{className:"login__text",children:[" ",Object(c.jsx)("p",{children:"NOTE: You must launch spotify before starting this application and it must be running in the background!"}),Object(c.jsx)("p",{children:"* Must be a premium spotify member to toggle between songs. Free members can only pause and play their currently playing track."})]}),Object(c.jsx)("a",{href:l,children:"LOGIN WITH SPOTIFY"}),Object(c.jsx)("br",{}),Object(c.jsx)("hr",{})]})},b=n(26),d=n.n(b);n(52),n(53),n(54);var O=Object(i.createContext)(),p=function(e){var t=e.initialState,n=e.reducer,s=e.children;return Object(c.jsx)(O.Provider,{value:Object(i.useReducer)(n,t),children:s})},f=function(){return Object(i.useContext)(O)},m=n.p+"static/media/logov2.04fcdb65.png";var h=n(15),x=(n(55),n(56),n(90));var g=function(){var e,t=f(),n=Object(o.a)(t,2),i=n[0].user;return n[1],Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("div",{className:"header__left",children:Object(c.jsx)("img",{className:"header__logo",src:m,alt:""})}),Object(c.jsx)("div",{className:"header__center",children:Object(c.jsx)("h5",{children:"Ready to sweat?"})}),Object(c.jsxs)("div",{className:"header__right",children:[Object(c.jsx)(x.a,{src:null===i||void 0===i||null===(e=i.images[0])||void 0===e?void 0:e.url,alt:i}),Object(c.jsx)("h5",{children:Object(c.jsx)("span",{children:null===i||void 0===i?void 0:i.display_name})})]})]})},y=n(34),v=n.n(y),_=n(35),T=n.n(_),N=n(87),S=n(89),k=n(88),E=n(32),I=n.n(E),P=n(31),w=n.n(P),C=n(33),L=n.n(C),A=n.p+"static/media/beep.40e5c7db.mp3",M=Object(N.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),Y=A;function G(e){var t=e.title,n=e.updateTime,i=e.type,s=e.time,a=e.formatTime;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:t}),Object(c.jsxs)("div",{className:"time-sets",children:[Object(c.jsx)("button",{className:"down",onClick:function(){return n(-10,i)},children:Object(c.jsx)(v.a,{color:"black"})}),Object(c.jsx)("h3",{children:a(s)}),Object(c.jsx)("button",{className:"up",onClick:function(){return n(10,i)},children:Object(c.jsx)(T.a,{})})]})]})}var R=function(e){e.spotify;var t=M(),n=Object(i.useState)(60),s=Object(o.a)(n,2),a=s[0],r=s[1],l=Object(i.useState)(30),j=Object(o.a)(l,2),u=j[0],b=j[1],d=Object(i.useState)(60),O=Object(o.a)(d,2),p=O[0],f=O[1],m=Object(i.useState)(!1),x=Object(o.a)(m,2),y=x[0],v=x[1],_=Object(i.useState)(!1),T=Object(o.a)(_,2),N=T[0],E=T[1],P=Object(i.useRef)(null);Object(i.useEffect)((function(){a<=0?(E(!0),C()):y||a!==u||E(!1),console.log("test")}),[a,N,y,u,p]);var C=function(){P.currentTime=0,P.play()},A=function(e){var t=Math.floor(e/60),n=e%60;return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)},R=function(e,t){if("rest"===t){if(u<=10&&e<0||u>=3600)return;b((function(t){return t+e}))}else{if(p<=10&&e<0||p>=3600)return;f((function(t){return t+e})),y||r(p+e)}};return Object(c.jsxs)("div",{className:"body",children:[Object(c.jsx)(g,{}),Object(c.jsx)("div",{className:"grid-container",children:Object(c.jsxs)(k.a,{container:!0,spacing:1,children:[Object(c.jsx)(k.a,{item:!0,xs:12,children:Object(c.jsxs)(S.a,{className:t.paper,children:[Object(c.jsx)("button",{onClick:function(){(new Date).getTime();var e=(new Date).getTime()+1e3,t=N;if(!y){var n=setInterval((function(){(new Date).getTime()>e&&(r((function(e){return e<=0&&!t?(t=!0,u):e<=0&&t?(t=!1,E(!1),p):e-1})),e+=1e3)}),30);sessionStorage.clear(),sessionStorage.setItem("interval-id",n)}y&&clearInterval(sessionStorage.getItem("interval-id")),v(!y)},children:y?Object(c.jsx)(w.a,{}):Object(c.jsx)(I.a,{})}),Object(c.jsx)("button",{onClick:function(){clearInterval(sessionStorage.getItem("interval-id")),r(60),b(30),f(60),P.pause(),P.currentTime=0,v(!1),E(!1)},children:Object(c.jsx)(L.a,{})})]})}),Object(c.jsx)(k.a,{item:!0,xs:12,sm:6,children:Object(c.jsx)(S.a,{className:t.paper,children:Object(c.jsx)(G,Object(h.a)({title:"Rest Length",updateTime:R,time:u,formatTime:A,type:"rest"},"formatTime",A))})}),Object(c.jsx)(k.a,{item:!0,xs:12,sm:6,children:Object(c.jsx)(S.a,{className:t.paper,children:Object(c.jsx)(G,Object(h.a)({title:"Work Length",updateTime:R,time:p,formatTime:A,type:"work"},"formatTime",A))})}),Object(c.jsx)(k.a,{item:!0,xs:12,children:Object(c.jsxs)(S.a,{className:t.paper,children:[Object(c.jsx)("h3",{children:N?"Rest":"Work"}),Object(c.jsx)("h2",{className:"count__text",children:A(a)})]})})]})}),Object(c.jsx)("div",{}),Object(c.jsx)("audio",{ref:function(e){return P=e},src:Y,id:"beep"})]})},F=(n(62),n(38)),D=n.n(F),U=n(36),z=n.n(U),W=n(39),B=n.n(W),J=n(37),K=n.n(J);var H=function(e){var t=e.spotify,n=f(),s=Object(o.a)(n,2),a=s[0],r=(a.token,a.item),l=a.playing,j=s[1];Object(i.useEffect)((function(){t.getMyCurrentPlaybackState().then((function(e){console.log(e),j({type:"SET_PLAYING",playing:e.is_playing}),j({type:"SET_ITEM",item:e.item})}))}),[t]);var u=function(){l?(t.pause(),j({type:"SET_PLAYING",playing:!1})):(t.play(),j({type:"SET_PLAYING",playing:!0}))};return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsxs)("div",{className:"footer__left",children:[Object(c.jsx)("img",{src:null===r||void 0===r?void 0:r.album.images[0].url,className:"footer__albumLogo",alt:null===r||void 0===r?void 0:r.name}),r?Object(c.jsxs)("div",{className:"footer__songInfo",children:[Object(c.jsx)("h5",{children:r.name}),Object(c.jsx)("p",{children:r.artists.map((function(e){return e.name})).join(", ")})]}):Object(c.jsxs)("div",{className:"footer__songInfo",children:[Object(c.jsx)("h4",{children:"No song is playing"}),Object(c.jsx)("p",{children:"..."})]})]}),Object(c.jsxs)("div",{className:"footer__center",children:[Object(c.jsx)(z.a,{onClick:function(){t.skipToPrevious(),t.getMyCurrentPlayingTrack().then((function(e){j({type:"SET_ITEM",item:e.item}),j({type:"SET_PLAYING",playing:!0})}))},className:"footer__icon"}),l?Object(c.jsx)(K.a,{onClick:u,fontSize:"large",className:"footer__icon"}):Object(c.jsx)(D.a,{onClick:u,fontSize:"large",className:"footer__icon"}),Object(c.jsx)(B.a,{onClick:function(){t.skipToNext(),t.getMyCurrentPlayingTrack().then((function(e){j({type:"SET_ITEM",item:e.item}),j({type:"SET_PLAYING",playing:!0})}))},className:"footer__icon"})]}),Object(c.jsx)("div",{className:"footer__right"})]})},q=function(e){var t=e.spotify;return Object(c.jsxs)("div",{className:"player",children:[Object(c.jsx)("div",{className:"player__body",children:Object(c.jsx)(R,{spotify:t})}),Object(c.jsx)(H,{spotify:t})]})},Q=new d.a;var V=function(){var e=f(),t=Object(o.a)(e,2),n=t[0],s=(n.user,n.token),a=t[1];return Object(i.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{});window.location.hash="";var t=e.access_token;t&&(a({type:"SET_TOKEN",token:t}),Q.setAccessToken(t),Q.getMe().then((function(e){a({type:"SET_USER",user:e})})),Q.getUserPlaylists().then((function(e){a({type:"SET_PLAYLISTS",playlists:e})})))}),[s,a]),Object(c.jsx)("div",{className:"App",children:s?Object(c.jsx)(q,{spotify:Q}):Object(c.jsx)(u,{})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))},Z=n(5),$=function(e,t){switch(console.log(t),t.type){case"SET_USER":return Object(Z.a)(Object(Z.a)({},e),{},{user:t.user});case"SET_PLAYING":return Object(Z.a)(Object(Z.a)({},e),{},{playing:t.playing});case"SET_ITEM":return Object(Z.a)(Object(Z.a)({},e),{},{item:t.item});case"SET_TOKEN":return Object(Z.a)(Object(Z.a)({},e),{},{token:t.token});case"SET_SPOTIFY":return Object(Z.a)(Object(Z.a)({},e),{},{spotify:t.spotify});case"SET_PLAYLISTS":return Object(Z.a)(Object(Z.a)({},e),{},{playlists:t.playlists});default:return e}};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(p,{initialState:{user:null,playlists:[],spotify:null,playing:!1,item:null},reducer:$,children:Object(c.jsx)(V,{})})}),document.getElementById("root")),X()}},[[63,1,2]]]);
//# sourceMappingURL=main.94d3dfc4.chunk.js.map