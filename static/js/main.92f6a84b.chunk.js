(this.webpackJsonphiitify=this.webpackJsonphiitify||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(1),s=c.n(i),a=c(18),r=c.n(a),o=(c(51),c(4)),l=(c(52),c(53),"".concat("http://accounts.spotify.com/authorize","?client_id=").concat("0c309b1569d1447f87fe551ef6e2629e","&redirect_uri=").concat("http://katrinapo.github.io/hiitify","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true")),j=c.p+"static/media/logov1.4cf2efb7.png";var u=function(){return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("img",{src:j}),Object(n.jsx)("a",{href:l,children:"LOGIN WITH SPOTIFY"})]})},b=c(26),d=c.n(b);c(54),c(55),c(56);var O=Object(i.createContext)(),f=function(e){var t=e.initialState,c=e.reducer,s=e.children;return Object(n.jsx)(O.Provider,{value:Object(i.useReducer)(c,t),children:s})},p=function(){return Object(i.useContext)(O)},m=c.p+"static/media/logov2.04fcdb65.png";var h=function(){var e=p(),t=Object(o.a)(e,2);return t[0].playlists,t[1],Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsx)("div",{className:"sidebar__heading",children:Object(n.jsx)("img",{className:"sidebar__logo",src:m,alt:""})}),Object(n.jsx)("br",{}),Object(n.jsx)("strong",{className:"sidebar__title",children:"NOTE: You must launch spotify before starting this application and it must be running in the background!"}),Object(n.jsx)("hr",{})]})},x=c(15),g=(c(57),c(58),c(90));var y=function(){var e,t=p(),c=Object(o.a)(t,2),i=c[0].user;return c[1],Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("div",{className:"header__left",children:Object(n.jsx)("h1",{children:"Welcome back!"})}),Object(n.jsxs)("div",{className:"header__right",children:[Object(n.jsx)(g.a,{src:null===i||void 0===i||null===(e=i.images[0])||void 0===e?void 0:e.url,alt:i}),Object(n.jsx)("h4",{children:null===i||void 0===i?void 0:i.display_name})]})]})},v=c(34),_=c.n(v),T=c(35),N=c.n(T),S=c(87),k=c(89),E=c(88),I=c(32),P=c.n(I),C=c(31),L=c.n(C),w=c(33),A=c.n(w),Y=c.p+"static/media/beep.40e5c7db.mp3",M=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),G=Y;function R(e){var t=e.title,c=e.updateTime,i=e.type,s=e.time,a=e.formatTime;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:t}),Object(n.jsxs)("div",{className:"time-sets",children:[Object(n.jsx)("button",{className:"down",onClick:function(){return c(-10,i)},children:Object(n.jsx)(_.a,{color:"black"})}),Object(n.jsx)("h3",{children:a(s)}),Object(n.jsx)("button",{className:"up",onClick:function(){return c(10,i)},children:Object(n.jsx)(N.a,{})})]})]})}var F=function(e){e.spotify;var t=M(),c=Object(i.useState)(60),s=Object(o.a)(c,2),a=s[0],r=s[1],l=Object(i.useState)(30),j=Object(o.a)(l,2),u=j[0],b=j[1],d=Object(i.useState)(60),O=Object(o.a)(d,2),f=O[0],p=O[1],m=Object(i.useState)(!1),h=Object(o.a)(m,2),g=h[0],v=h[1],_=Object(i.useState)(!1),T=Object(o.a)(_,2),N=T[0],S=T[1],I=Object(i.useRef)(null);Object(i.useEffect)((function(){a<=0?(S(!0),C()):g||a!==u||S(!1),console.log("test")}),[a,N,g,u,f]);var C=function(){I.currentTime=0,I.play()},w=function(e){var t=Math.floor(e/60),c=e%60;return(t<10?"0"+t:t)+":"+(c<10?"0"+c:c)},Y=function(e,t){if("rest"===t){if(u<=10&&e<0||u>=3600)return;b((function(t){return t+e}))}else{if(f<=10&&e<0||f>=3600)return;p((function(t){return t+e})),g||r(f+e)}};return Object(n.jsxs)("div",{className:"body",children:[Object(n.jsx)(y,{}),Object(n.jsx)("div",{className:"grid-container",children:Object(n.jsxs)(E.a,{container:!0,spacing:3,children:[Object(n.jsx)(E.a,{item:!0,xs:12,children:Object(n.jsx)(k.a,{className:t.paper,children:Object(n.jsx)("h1",{children:"HIIT Timer"})})}),Object(n.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(k.a,{className:t.paper,children:Object(n.jsx)(R,Object(x.a)({title:"Rest Length",updateTime:Y,time:u,formatTime:w,type:"rest"},"formatTime",w))})}),Object(n.jsx)(E.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(k.a,{className:t.paper,children:Object(n.jsx)(R,Object(x.a)({title:"Work Length",updateTime:Y,time:f,formatTime:w,type:"work"},"formatTime",w))})}),Object(n.jsx)(E.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:t.paper,children:[Object(n.jsx)("h3",{children:N?"Rest":"Work"}),Object(n.jsx)("h1",{children:w(a)})]})}),Object(n.jsx)(E.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:t.paper,children:[Object(n.jsx)("button",{onClick:function(){(new Date).getTime();var e=(new Date).getTime()+1e3,t=N;if(!g){var c=setInterval((function(){(new Date).getTime()>e&&(r((function(e){return e<=0&&!t?(t=!0,u):e<=0&&t?(t=!1,S(!1),f):e-1})),e+=1e3)}),30);sessionStorage.clear(),sessionStorage.setItem("interval-id",c)}g&&clearInterval(sessionStorage.getItem("interval-id")),v(!g)},children:g?Object(n.jsx)(L.a,{}):Object(n.jsx)(P.a,{})}),Object(n.jsx)("button",{onClick:function(){clearInterval(sessionStorage.getItem("interval-id")),r(60),b(30),p(60),I.pause(),I.currentTime=0,v(!1),S(!1)},children:Object(n.jsx)(A.a,{})})]})})]})}),Object(n.jsx)("div",{}),Object(n.jsx)("audio",{ref:function(e){return I=e},src:G,id:"beep"})]})},D=(c(64),c(39)),U=c.n(D),W=c(37),z=c.n(W),B=c(40),H=c.n(B),J=c(36),K=c.n(J),q=c(41),Q=c.n(q),V=c(38),X=c.n(V);var Z=function(e){var t=e.spotify,c=p(),s=Object(o.a)(c,2),a=s[0],r=(a.token,a.item),l=a.playing,j=s[1];Object(i.useEffect)((function(){t.getMyCurrentPlaybackState().then((function(e){console.log(e),j({type:"SET_PLAYING",playing:e.is_playing}),j({type:"SET_ITEM",item:e.item})}))}),[t]);var u=function(){l?(t.pause(),j({type:"SET_PLAYING",playing:!1})):(t.play(),j({type:"SET_PLAYING",playing:!0}))};return Object(n.jsxs)("div",{className:"footer",children:[Object(n.jsxs)("div",{className:"footer__left",children:[Object(n.jsx)("img",{src:null===r||void 0===r?void 0:r.album.images[0].url,className:"footer__albumLogo",alt:null===r||void 0===r?void 0:r.name}),r?Object(n.jsxs)("div",{className:"footer__songInfo",children:[Object(n.jsx)("h4",{children:r.name}),Object(n.jsx)("p",{children:r.artists.map((function(e){return e.name})).join(", ")})]}):Object(n.jsxs)("div",{className:"footer__songInfo",children:[Object(n.jsx)("h4",{children:"No song is playing"}),Object(n.jsx)("p",{children:"..."})]})]}),Object(n.jsxs)("div",{className:"footer__center",children:[Object(n.jsx)(K.a,{className:"footer__green"}),Object(n.jsx)(z.a,{onClick:function(){t.skipToPrevious(),t.getMyCurrentPlayingTrack().then((function(e){j({type:"SET_ITEM",item:e.item}),j({type:"SET_PLAYING",playing:!0})}))},className:"footer__icon"}),l?Object(n.jsx)(X.a,{onClick:u,fontSize:"large",className:"footer__icon"}):Object(n.jsx)(U.a,{onClick:u,fontSize:"large",className:"footer__icon"}),Object(n.jsx)(H.a,{onClick:function(){t.skipToNext(),t.getMyCurrentPlayingTrack().then((function(e){j({type:"SET_ITEM",item:e.item}),j({type:"SET_PLAYING",playing:!0})}))},className:"footer__icon"}),Object(n.jsx)(Q.a,{className:"footer__green"})]}),Object(n.jsx)("div",{className:"footer__right"})]})},$=function(e){var t=e.spotify;return Object(n.jsxs)("div",{className:"player",children:[Object(n.jsxs)("div",{className:"player__body",children:[Object(n.jsx)(h,{}),Object(n.jsx)(F,{spotify:t})]}),Object(n.jsx)(Z,{spotify:t})]})},ee=new d.a;var te=function(){var e=p(),t=Object(o.a)(e,2),c=t[0],s=(c.user,c.token),a=t[1];return Object(i.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var c=t.split("=");return e[c[0]]=decodeURIComponent(c[1]),e}),{});window.location.hash="";var t=e.access_token;t&&(a({type:"SET_TOKEN",token:t}),ee.setAccessToken(t),ee.getMe().then((function(e){a({type:"SET_USER",user:e})})),ee.getUserPlaylists().then((function(e){a({type:"SET_PLAYLISTS",playlists:e})})))}),[s,a]),Object(n.jsx)("div",{className:"App",children:s?Object(n.jsx)($,{spotify:ee}):Object(n.jsx)(u,{})})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,92)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),s(e),a(e)}))},ne=c(5),ie=function(e,t){switch(console.log(t),t.type){case"SET_USER":return Object(ne.a)(Object(ne.a)({},e),{},{user:t.user});case"SET_PLAYING":return Object(ne.a)(Object(ne.a)({},e),{},{playing:t.playing});case"SET_ITEM":return Object(ne.a)(Object(ne.a)({},e),{},{item:t.item});case"SET_TOKEN":return Object(ne.a)(Object(ne.a)({},e),{},{token:t.token});case"SET_SPOTIFY":return Object(ne.a)(Object(ne.a)({},e),{},{spotify:t.spotify});case"SET_PLAYLISTS":return Object(ne.a)(Object(ne.a)({},e),{},{playlists:t.playlists});default:return e}};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(f,{initialState:{user:null,playlists:[],spotify:null,playing:!1,item:null},reducer:ie,children:Object(n.jsx)(te,{})})}),document.getElementById("root")),ce()}},[[65,1,2]]]);
//# sourceMappingURL=main.92f6a84b.chunk.js.map